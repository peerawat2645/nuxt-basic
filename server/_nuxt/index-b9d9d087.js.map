{"version":3,"file":"index-b9d9d087.js","sources":["../../../../components/CrudTable.vue","../../../../pages/books/index.vue"],"sourcesContent":["\n<template lang=\"\">\n<div class=\"add-btn-container\">\n    <input type=\"text\" v-model=\"searchTerm\" placeholder=\"Search...\">\n    <button @click=\"searchItems\">Search</button>\n    <nuxt-link :to=\"`/books/add`\" class=\"custom-link\">Add New</nuxt-link>\n  </div>\n      <table>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Description</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n        <!-- Loop through paginated items -->\n        <tr v-for=\"item in paginatedItems\" :key=\"item.id\">\n          <td>{{ item.id }}</td>\n          <td>{{ item.name }}</td>\n          <td>{{ item.description }}</td>\n          <td>\n            <!-- Edit and Delete buttons -->\n            <nuxt-link :to=\"`/books/${item.id}`\" class=\"custom-link\">Edit</nuxt-link>\n            <button @click=\"deleteItem(item.id)\" class=\"delete-link\">Delete</button>\n          </td>\n        </tr>\n      </tbody>\n      </table>\n      <div class=\"pagination\">\n      <button @click=\"prevPage\" :disabled=\"currentPage === 1\">Previous</button>\n      <span style=\"font-size: 16px;margin-right: 10px;\">Page {{ currentPage }}</span>\n      <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\">Next</button>\n    </div>\n    \n  </template>\n  \n<script>\nexport default {\n    data() {\n        return {\n            items: [], // Your list of items\n            currentPage: 1,\n            itemsPerPage: 5,\n            searchTerm: ''\n        };\n    },\n    computed: {\n        paginatedItems() {\n            const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n            const endIndex = startIndex + this.itemsPerPage;\n            return this.items.slice(startIndex, endIndex);\n        },\n        totalPages() {\n            return Math.ceil(this.items.length / this.itemsPerPage);\n        },\n    },\n    created() {\n        this.fetchDataAll(); // Fetch initial data\n    },\n    methods: {\n        nextPage() {\n            if (this.currentPage < this.totalPages) {\n                this.currentPage++;\n                this.fetchData();\n            }\n        },\n        prevPage() {\n            if (this.currentPage > 1) {\n                this.currentPage--;\n                this.fetchData();\n            }\n        },\n        async fetchData() {\n            try {\n                const { data } = await useFetch(`http://localhost:8080/api/books/?page=${this.currentPage}`);\n                this.items = data;\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        async fetchDataAll() {\n            try {\n                const { data } = await useFetch(`http://localhost:8080/api/books/`);\n                this.items = data;\n                console.log(Math.ceil(this.items.length / this.itemsPerPage));\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        editItem(id) {\n            this.$router.push(`/books/${id}`);\n        },\n        async deleteItem(id) {\n            const deleteConfirmed = window.confirm('Are you sure you want to delete?');\n            if (deleteConfirmed) {\n                try {\n                    await useFetch(`http://localhost:8080/api/books/delete/${id}`);\n                    this.fetchData(this.currentPage, this.itemsPerPage);\n                } catch (error) {\n                    console.error(error);\n                }\n            }\n        },\n        async searchItems() {\n            try {\n                const { data } = await useFetch(`http://localhost:8080/api/books/?search=${this.searchTerm}`);\n                this.items = data;\n                this.paginatedItems();\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        // Other methods for adding, editing, or deleting items\n    },\n};\n</script>\n  \n<style scoped>\n/* Styles for the table */\ntable {\n    width: 100%;\n    border-collapse: collapse;\n    margin-bottom: 20px;\n}\n\nth,\ntd {\n    padding: 10px;\n    border-bottom: 1px solid #ddd;\n    text-align: center;\n}\n\nth {\n    background-color: #f4f4f4;\n}\n\n/* Styles for buttons and form */\nbutton {\n    padding: 8px 16px;\n    font-size: 14px;\n    border: none;\n    border-radius: 3px;\n    background-color: #007bff;\n    color: #fff;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    margin-right: 10px;\n}\n\nbutton:hover {\n    background-color: #0056b3;\n}\n\n.add-btn-container {\n    display: flex;\n    justify-content: flex-end;\n    margin-right: 50px;\n    margin-bottom: 40px;\n}\n\n.custom-link {\n    display: inline-block;\n    padding: 8px 16px;\n    font-size: 14px;\n    border: none;\n    border-radius: 3px;\n    background-color: #007bff;\n    color: #fff;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    margin-right: 10px;\n    text-decoration: none;\n    /* Remove default underline */\n}\n\n.custom-link:hover {\n    background-color: #0056b3;\n}\n\n.delete-link {\n    display: inline-block;\n    padding: 8px 16px;\n    font-size: 14px;\n    border: none;\n    border-radius: 3px;\n    background-color: #dc3545;\n    /* Background color for Delete button (red - danger) */\n    color: #fff;\n    /* Text color */\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    text-decoration: none;\n    /* Remove default underline */\n}\n\n.delete-link:hover {\n    background-color: #c82333;\n    /* Hover background color for Delete button (darker red) */\n}\n\n.search-input {\n    padding: 8px;\n    font-size: 14px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin-bottom: 10px;\n}\n.pagination{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n</style>\n  ","<template>\n    <div>\n      <h1>CRUD Page</h1>\n      <CrudTable />\n    </div>\n  </template>\n  \n  <script>\n import CrudTable from '~/components/CrudTable.vue';\n  \n  export default {\n    components: {\n      CrudTable,\n    },\n  };\n  </script>\n  "],"names":["_sfc_main","_push","_parent","_ssrRenderList","_ssrInterpolate","_ssrIncludeBooleanAttr","CrudTable"],"mappings":"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"}